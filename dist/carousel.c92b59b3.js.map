{"version":3,"sources":["js/carousel.js"],"names":["projects","name","imgSrc","href","carousel","container","noSlides","slide","img","imgWrapper","outline","prev","next","array","ableToScroll","activeSlide","touchstartY","touchendY","switchTlUp","gsap","timeline","paused","switchTlDown","activeHover","update","innerHTML","length","window","setTimeout","updateImg","src","to","y","scale","call","ease","opacity","x","skewType","skewX","fromTo","duration","delay","addEventListener","e","deltaY","play","event","changedTouches","screenY","progress","reverse","document","querySelector"],"mappings":"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","file":"carousel.c92b59b3.js","sourceRoot":"..","sourcesContent":["const projects = [\r\n    {name: 'ORGANIZER<br>ZADAŃ', imgSrc: 'zadania.png', href: '/zadania.html'},\r\n    {name: 'AKTRADE<br>WIZYTÓWKA', imgSrc: 'hero.jpg', href: '/wizytowka.html'},\r\n    {name: 'MONT-UP<br>WIZYTÓWKA', imgSrc: 'montup.png', href: '/montup.html'},\r\n    {name: 'GRA<br>SAPER', imgSrc: 'saper.png', href: '/saper.html'},\r\n];\r\n\r\nconst carousel = ({container, noSlides, slide, img, imgWrapper, outline, name, prev, next, array}) => {\r\n    let ableToScroll = true;\r\n    let activeSlide = 0;\r\n    let touchstartY = 0;\r\n    let touchendY = 0;\r\n    const switchTlUp = gsap.timeline({paused: true});\r\n    const switchTlDown = gsap.timeline();\r\n    const activeHover = gsap.timeline({paused: true});\r\n\r\n    const update = () => {\r\n        slide.innerHTML = (activeSlide + 1) < 10 ? `0${activeSlide + 1}` : activeSlide + 1;\r\n        noSlides.innerHTML = array.length < 10 ? `0${array.length}` : array.length;\r\n        imgWrapper.href = array[activeSlide].href;\r\n        name.innerHTML = array[activeSlide].name;\r\n        outline.innerHTML = array[activeSlide].name;\r\n        outline.href = array[activeSlide].href;\r\n        prev.innerHTML = array[activeSlide - 1] ? array[activeSlide - 1].name : array[array.length - 1].name;\r\n        next.innerHTML = array[activeSlide + 1] ? array[activeSlide + 1].name : array[0].name\r\n        ableToScroll = false;\r\n        window.setTimeout(() => {\r\n            ableToScroll = true\r\n        }, 300)\r\n    };\r\n    const updateImg = () => {\r\n        img.src = array[activeSlide].imgSrc;\r\n    };\r\n\r\n    activeHover\r\n        .to(next, .3, {y: '50vh'})\r\n        .to(prev, .3, {y: '-50vh'}, '-=.3')\r\n        .to(imgWrapper, .3, {scale: 1.15}, '-=.3')\r\n        .to(outline, .3, {scale: 1.15}, '-=.3')\r\n        .to(name, .3, {scale: 1.15}, '-=.3');\r\n\r\n    switchTlDown\r\n        .call(() => {\r\n            update()\r\n        })\r\n        .to(imgWrapper, 0.3, {ease: \"circ.out\", opacity: 0, x: '10%', skewType: \"simple\", skewX: -10})\r\n        .call(() => {\r\n            updateImg()\r\n        })\r\n        .fromTo(next, {y: -500}, {ease: \"circ.out\", duration: .3, y: 0}, '-=.3')\r\n        .fromTo(name, {y: -500}, {ease: \"circ.out\", duration: .3, y: 0}, '-=.3')\r\n        .fromTo(outline, {y: -500}, {ease: \"circ.out\", duration: .3, y: 0}, '-=.3')\r\n        .fromTo(prev, {y: -500}, {ease: \"circ.out\", duration: .3, y: 0}, '-=.3')\r\n        .to(imgWrapper, 0.2, {ease: \"circ.out\", delay: .5, opacity: 1, x: 0, skewType: \"simple\", skewX: 0});\r\n\r\n    switchTlUp\r\n        .call(() => {\r\n            update()\r\n        })\r\n        .to(imgWrapper, 0.3, {ease: \"circ.out\", opacity: 0, x: '10%', skewType: \"simple\", skewX: -10})\r\n        .call(() => {\r\n            updateImg()\r\n        })\r\n        .fromTo(next, {y: 500}, {ease: \"circ.out\", duration: .3, y: 0}, '-=.3')\r\n        .fromTo(name, {y: 500}, {ease: \"circ.out\", duration: .3, y: 0}, '-=.3')\r\n        .fromTo(outline, {y: 500}, {ease: \"circ.out\", duration: .3, y: 0}, '-=.3')\r\n        .fromTo(prev, {y: 500}, {ease: \"circ.out\", duration: .3, y: 0}, '-=.3')\r\n        .to(imgWrapper, 0.2, {ease: \"circ.out\", delay: .5, opacity: 1, x: 0, skewType: \"simple\", skewX: 0});\r\n\r\n\r\n    container.addEventListener('wheel', (e) => {\r\n        if (ableToScroll) {\r\n            if (e.deltaY < 0) {\r\n                if (activeSlide !== 0) {\r\n                    switchTlDown.play(0);\r\n                    activeSlide--\r\n                } else {\r\n                    switchTlDown.play(0);\r\n                    activeSlide = array.length - 1;\r\n                }\r\n            } else {\r\n                if (activeSlide !== array.length - 1) {\r\n                    switchTlUp.play(0);\r\n                    activeSlide++\r\n                } else {\r\n                    switchTlUp.play(0);\r\n                    activeSlide = 0;\r\n                }\r\n            }\r\n            ;\r\n        }\r\n    });\r\n    container.addEventListener('touchstart', function (event) {\r\n        touchstartY = event.changedTouches[0].screenY;\r\n    }, false);\r\n\r\n    container.addEventListener('touchend', function (event) {\r\n        touchendY = event.changedTouches[0].screenY;\r\n        if (ableToScroll) {\r\n            if (touchendY < touchstartY) {\r\n                if (activeSlide !== array.length - 1) {\r\n                    switchTlUp.play(0);\r\n                    activeSlide++\r\n                } else {\r\n                    switchTlUp.play(0);\r\n                    activeSlide = 0;\r\n                }\r\n            } else if (touchendY > touchstartY) {\r\n                if (activeSlide !== 0) {\r\n                    switchTlDown.play(0);\r\n                    activeSlide--\r\n                } else {\r\n                    switchTlDown.play(0);\r\n                    activeSlide = array.length - 1;\r\n                }\r\n            }\r\n        }\r\n    }, false);\r\n\r\n    outline.addEventListener('mouseenter', () => {\r\n        if (activeHover.progress() === 0) {\r\n            activeHover.play(0)\r\n        }\r\n    });\r\n\r\n    outline.addEventListener('mouseleave', () => {\r\n        if (activeHover.progress() === 1) {\r\n            activeHover.reverse();\r\n        }\r\n    });\r\n\r\n    imgWrapper.addEventListener('mouseenter', () => {\r\n        if (activeHover.progress() === 0) {\r\n            activeHover.play(0)\r\n        }\r\n    });\r\n\r\n    imgWrapper.addEventListener('mouseleave', () => {\r\n        if (activeHover.progress() === 1) {\r\n            activeHover.reverse();\r\n        }\r\n    });\r\n\r\n    prev.addEventListener('click', () => {\r\n        if (activeSlide !== 0) {\r\n            switchTlDown.play(0);\r\n            activeSlide--\r\n        } else {\r\n            switchTlDown.play(0);\r\n            activeSlide = array.length - 1;\r\n        }\r\n        update();\r\n    });\r\n\r\n    next.addEventListener('click', () => {\r\n        if (activeSlide !== array.length - 1) {\r\n            switchTlUp.play(0);\r\n            activeSlide++\r\n        } else {\r\n            switchTlUp.play(0);\r\n            activeSlide = 0;\r\n        }\r\n        update();\r\n    });\r\n};\r\n\r\ncarousel({\r\n    container: document.querySelector('.carousel'),\r\n    noSlides: document.querySelector('.carousel .slice-count__no-slides'),\r\n    slide: document.querySelector('.carousel .slide-count__current-slide'),\r\n    imgWrapper: document.querySelector('.carousel .active-slide__image-wrapper'),\r\n    img: document.querySelector('.carousel .active-slide__image'),\r\n    outline: document.querySelector('.carousel .active-slide__text--outline'),\r\n    name: document.querySelector('.carousel .active-slide__text--title'),\r\n    prev: document.querySelector('.carousel .queue-slide--top'),\r\n    next: document.querySelector('.carousel .queue-slide--bot'),\r\n    array: projects,\r\n});"]}